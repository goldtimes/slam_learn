# 视觉slam14讲中的vo1部分

## 特征里程计
我们通过orb提取特征和描述子之后，进行了特征点的匹配。找到了若干的匹配点
那么接下来就是需要通过特征点来估计相机的运行了。
### 单目相机
假设我们只有单目相机的情况下，我们如何通过两帧的匹配的特征点来计算相机的运动的？
#### 2D-2D的对极几何知识
手推了一边，在2d-2d的匹配中我们利用对极几何的知识估计出本质矩阵
E = t^R
F = K.inv().transpose() * E * K.inv()
由于在推导的过程中，我们对p点的深度进行了归一化，于是单目的情况看就存在尺度不确定性。
对估计和地图同时缩放任意倍数之后，我们的到的图像还是相同的。比如通过本质矩阵恢复出来的t=0.8222是cm呢还是m的尺度呢？
单目slam必须要在初始的时候经过旋转和平移完成初始化确定一开始的尺度，然后在该尺度下完成slam
##### 三角化
已经通过对极几何估计出R,t之后。x1,x2为归一化的特征，于是我们想要估计出深度信息
由于有噪声的原因，我们就要通过优化的方法来得到优化的值
x_2 = R*x_1 + t

### PnP
已经知道特征点的3d位置已经它们的2d像素位置
#### 直接线性变换
构建方程通过svd分解来计算R,t
#### P3P
利用相似三角型和消元的方法
但是只利用了三个特征点受噪声影响
#### 将许多特征点来构建重投影误差
线行法: 先求相机的位姿，在计算空间点的位置
优化方法： 将相机的位姿和空间点的位置作为优化的变量，通过构建BA问题来对相机位姿进行优化